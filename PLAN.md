### **MCP μ „μ²΄ κµ¬μ¶• κ³„νμ„ (Full Project Plan)**

> **π“ 2026-01-12 μ—…λ°μ΄νΈ:** 74λ‹¨κ³„ μƒμ„Έ κ³„νμΌλ΅ ν™•μ¥ (κΈ°μ΅΄ 48λ‹¨κ³„)
> **μ£Όμ” μ¶”κ°€:** Phase 0 μΈν”„λΌ κµ¬μ¶• (7λ‹¨κ³„), n8n ν†µν•© λ΅μ§ μ „ Phaseμ— λ°μ

#### **Phase 0: Raspberry Pi 5 & n8n μΈν”„λΌ κµ¬μ¶•** π†• `[μ™„λ£: 2026-01-12]`
1.  β… `Raspberry Pi 5 OS μ„¤μΉ λ° μ΄κΈ° μ„¤μ • (Ubuntu/Raspberry Pi OS)` `[μ™„λ£: 2026-01-12]`
2.  β… `Docker λ° Docker Compose μ„¤μΉ` `[μ™„λ£: 2026-01-12]`
3.  β… `n8n Docker μ»¨ν…μ΄λ„ λ°°ν¬ (docker-compose.yml)` `[μ™„λ£: 2026-01-12]`
4.  β… `n8n μ΄κΈ° μ„¤μ • λ° κ΄€λ¦¬μ κ³„μ • μƒμ„±` `[μ™„λ£: 2026-01-12]`
5.  β… `Cloudflare κ³„μ • μ„¤μ • λ° λ„λ©”μΈ μ¤€λΉ„ (api.abyz-lab.work)` `[μ™„λ£: 2026-01-12]`
6.  β… `cloudflared μ„¤μΉ λ° Tunnel μƒμ„± (abyz-n8n)` `[μ™„λ£: 2026-01-12]`
7.  β… `Cloudflare Tunnel config.yml μ„¤μ • (ingress κ·μΉ™)` `[μ™„λ£: 2026-01-12]`
8.  β… `Cloudflare DNS CNAME μ„¤μ • (api β†’ cfargotunnel.com)` `[μ™„λ£: 2026-01-12]`
9.  β… `cloudflared systemd μ„λΉ„μ¤ λ“±λ΅ λ° μλ™ μ‹μ‘ μ„¤μ •` `[μ™„λ£: 2026-01-12]`
10. β… `μ‹μ¤ν… UDP λ²„νΌ νλ‹ (sysctl.conf)` `[μ™„λ£: 2026-01-12]`
11. β… `n8n μ™Έλ¶€ HTTPS μ ‘μ† ν…μ¤νΈ ν™•μΈ (https://api.abyz-lab.work)` `[μ™„λ£: 2026-01-12]`

#### **Phase 1-1: AI Agent Server ν™κ²½ κµ¬μ¶•** `[κ³„ν: λ―Έκµ¬μ¶•]`
12. β³ `Raspberry Pi 5μ— Node.js μ„¤μΉ (LTS λ²„μ „)` `[κ³„ν: λ―Έκµ¬μ¶•]`
13. β³ `Node.js ν”„λ΅μ νΈ μ΄κΈ°ν™”: 'package.json' νμΌ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
14. β³ `TypeScript λ° Node.js νƒ€μ… λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ` `[κ³„ν: λ―Έκµ¬μ¶•]`
15. β³ `TypeScript μ»΄νμΌλ¬ μ„¤μ • νμΌ 'tsconfig.json' μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
16. β³ `Express μ›Ή ν”„λ μ„μ›ν¬ λ° νƒ€μ… λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ` `[κ³„ν: λ―Έκµ¬μ¶•]`
17. β³ `μ†μ¤ μ½”λ“ κ΄€λ¦¬λ¥Ό μ„ν• 'src' λ””λ ‰ν† λ¦¬ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
18. β³ `'src/index.ts' νμΌμ— κΈ°λ³Έ Express μ„λ²„ μ½”λ“ μ‘μ„± (n8nκ³Ό ν†µμ‹  κ°€λ¥ν•λ„λ΅)` `[κ³„ν: λ―Έκµ¬μ¶•]`
19. β³ `'package.json'μ— μ„λ²„ λΉλ“ λ° μ‹¤ν–‰ μ¤ν¬λ¦½νΈ μ¶”κ°€` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 1-2: n8nκ³Ό AI Agent Server ν†µν•©** `[κ³„ν: λ―Έκµ¬μ¶•]`
20. β³ `n8nμ—μ„ Webhook λ…Έλ“ μƒμ„± (μ‚¬μ©μ μ”μ²­ μμ‹ μ©)` `[κ³„ν: λ―Έκµ¬μ¶•]`
21. β³ `n8nμ—μ„ HTTP Request λ…Έλ“ μƒμ„± (AI Agent Server νΈμ¶μ©)` `[κ³„ν: λ―Έκµ¬μ¶•]`
22. β³ `AI Agent Serverμ— '/webhook' μ—”λ“ν¬μΈνΈ κµ¬ν„ (n8n μ”μ²­ μμ‹ )` `[κ³„ν: λ―Έκµ¬μ¶•]`
23. β³ `n8nμ—μ„ AI Agent Serverλ΅ μ‘μ—… μ”μ²­ μ „λ‹¬ μ›ν¬ν”λ΅μ° κµ¬μ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
24. β³ `AI Agent Serverμ—μ„ n8nμΌλ΅ κ²°κ³Ό λ°ν™ λ΅μ§ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 1-3: ν•µμ‹¬ API λ° μ„λΉ„μ¤ κµ¬μ΅° μ„¤κ³„** `[κ³„ν: λ―Έκµ¬μ¶•]`
25. β³ `API μ”μ²­μ„ μ²λ¦¬ν•  'src/controllers' λ””λ ‰ν† λ¦¬ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
26. β³ `λΉ„μ¦λ‹μ¤ λ΅μ§μ„ λ‹΄λ‹Ήν•  'src/services' λ””λ ‰ν† λ¦¬ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
27. β³ `κ³µν†µ νƒ€μ…μ„ κ΄€λ¦¬ν•  'src/types' λ””λ ‰ν† λ¦¬ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
28. β³ `μ‘μ—…(Task) μƒνƒ κ΄€λ¦¬λ¥Ό μ„ν• νƒ€μ… μ •μ ('src/types/task.d.ts')` `[κ³„ν: λ―Έκµ¬μ¶•]`
29. β³ `μ‘μ—… μƒμ„± API μ»¨νΈλ΅¤λ¬ λ° λΌμ°νΈ κµ¬ν„ ('/tasks', POST)` `[κ³„ν: λ―Έκµ¬μ¶•]`
30. β³ `μ‘μ—… μƒνƒ μ΅°ν API μ»¨νΈλ΅¤λ¬ λ° λΌμ°νΈ κµ¬ν„ ('/tasks/:id', GET)` `[κ³„ν: λ―Έκµ¬μ¶•]`
31. β³ `n8n Database λ…Έλ“λ¥Ό ν†µν• μ‘μ—… μƒνƒ μ €μ¥ μ›ν¬ν”λ΅μ° κµ¬μ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 1-4: μ²« λ²μ§Έ AI μ—μ΄μ „νΈ λ° νμΌ μ‹μ¤ν… μ—°λ™** `[κ³„ν: λ―Έκµ¬μ¶•]`
32. β³ `μ™Έλ¶€ API μ—°λ™μ„ μ„ν• 'axios' λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ` `[κ³„ν: λ―Έκµ¬μ¶•]`
33. β³ `API ν‚¤ λ“± λΉ„λ°€ μ •λ³΄ κ΄€λ¦¬λ¥Ό μ„ν• 'dotenv' λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ λ° '.env' νμΌ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
34. β³ `.gitignore νμΌμ— '.env' λ° 'dist' ν΄λ” μ¶”κ°€` `[κ³„ν: λ―Έκµ¬μ¶•]`
35. β³ `Claude μ—μ΄μ „νΈ λ΅μ§μ„ κµ¬ν„ν•  'src/services/claudeAgent.ts' νμΌ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
36. β³ `Gemini μ—μ΄μ „νΈ λ΅μ§μ„ κµ¬ν„ν•  'src/services/geminiAgent.ts' νμΌ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
37. β³ `νμΌ μ‹μ¤ν… μ μ–΄λ¥Ό μ„ν• 'src/services/fileService.ts' νμΌ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
38. β³ `n8nμ—μ„ AI μ—μ΄μ „νΈ API νΈμ¶ μ›ν¬ν”λ΅μ° κµ¬μ„± (HTTP Request λ…Έλ“ ν™μ©)` `[κ³„ν: λ―Έκµ¬μ¶•]`
39. β³ `μ‘μ—… μ‹¤ν–‰ μ‹ μ—μ΄μ „νΈ νΈμ¶ λ° νμΌ μ“°κΈ°λ¥Ό μ—°λ™ν•λ” λ©”μΈ μ„λΉ„μ¤ λ΅μ§ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 2-1: λ©€ν‹° μ—μ΄μ „νΈ μ–΄λ‘ν„° μ¶”κ°€** `[κ³„ν: λ―Έκµ¬μ¶•]`
40. β³ `AI μ—μ΄μ „νΈ μΈν„°νμ΄μ¤ μ •μ ('src/types/agent.d.ts')` `[κ³„ν: λ―Έκµ¬μ¶•]`
41. β³ `Perplexity μ—μ΄μ „νΈ λ΅μ§μ„ κµ¬ν„ν•  'src/services/perplexityAgent.ts' νμΌ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
42. β³ `OpenAI μ—μ΄μ „νΈ λ΅μ§μ„ κµ¬ν„ν•  'src/services/openaiAgent.ts' νμΌ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
43. β³ `κ° μ—μ΄μ „νΈκ°€ AI μ—μ΄μ „νΈ μΈν„°νμ΄μ¤λ¥Ό λ”°λ¥΄λ„λ΅ λ¦¬ν©ν† λ§` `[κ³„ν: λ―Έκµ¬μ¶•]`
44. β³ `n8nμ—μ„ κ° AI μ—μ΄μ „νΈ API νΈμ¶ λ…Έλ“ μ¶”κ°€ (HTTP Request λ…Έλ“)` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 2-2: n8n κΈ°λ° μ—μ΄μ „νΈ λΌμ°ν… λ° μ›ν¬μ¤νμ΄μ¤** `[κ³„ν: λ―Έκµ¬μ¶•]`
45. β³ `n8nμ—μ„ Switch λ…Έλ“λ¥Ό ν™μ©ν• μ‘μ—… μ ν•λ³„ λΌμ°ν… μ›ν¬ν”λ΅μ° κµ¬μ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
46. β³ `μ‘μ—… μ ν• λ¶„λ¥: μ½”λ“ μƒμ„±, λ””λ²„κΉ…, λ¬Έμ„ μ‘μ„±, μ½”λ“ λ¦¬λ·°` `[κ³„ν: λ―Έκµ¬μ¶•]`
47. β³ `κ° μ‘μ—… μ ν•μ— μµμ ν™”λ AI μ—μ΄μ „νΈ μλ™ μ„ νƒ λ΅μ§ (n8n Switch λ…Έλ“)` `[κ³„ν: λ―Έκµ¬μ¶•]`
48. β³ `μ—μ΄μ „νΈλ¥Ό λ™μ μΌλ΅ μ„ νƒν•λ” 'μ—μ΄μ „νΈ ν©ν† λ¦¬' κµ¬ν„ ('src/services/agentFactory.ts')` `[κ³„ν: λ―Έκµ¬μ¶•]`
49. β³ `AI Agent Serverμ— '/agent/:type' μ—”λ“ν¬μΈνΈ μ¶”κ°€ (μ—μ΄μ „νΈ μ„ νƒμ©)` `[κ³„ν: λ―Έκµ¬μ¶•]`
50. β³ `μ‘μ—…λ³„ κ³ μ  μ›ν¬μ¤νμ΄μ¤(μ„μ‹ λ””λ ‰ν† λ¦¬) μƒμ„±/μ‚­μ  λ΅μ§μ„ 'fileService'μ— μ¶”κ°€` `[κ³„ν: λ―Έκµ¬μ¶•]`
51. β³ `n8nμ„ ν†µν• μ›ν¬μ¤νμ΄μ¤ μƒνƒ κ³µμ  λ° μ¶©λ λ°©μ§€ λ΅μ§ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 3-1: CLI (Command-Line Interface) κ°λ°** `[κ³„ν: λ―Έκµ¬μ¶•]`
52. β³ `CLI κ°λ°μ© λΌμ΄λΈλ¬λ¦¬ 'commander' λ° 'inquirer' μ„¤μΉ` `[κ³„ν: λ―Έκµ¬μ¶•]`
53. β³ `CLI μ• ν”λ¦¬μΌ€μ΄μ… μ§„μ…μ  νμΌ 'src/cli.ts' μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
54. β³ `CLIμ—μ„ n8n Webhookμ„ νΈμ¶ν•μ—¬ 'μ‹ κ· κ°λ° μ‘μ—… μƒμ„±' λ…λ Ήμ–΄ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
55. β³ `CLIμ—μ„ n8n APIλ¥Ό ν†µν•΄ 'μ‘μ—… μ§„ν–‰ μƒνƒ μ΅°ν' λ…λ Ήμ–΄ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
56. β³ `CLIμ—μ„ AIκ°€ μ μ•ν• 'μ½”λ“ λ³€κ²½μ‚¬ν•­(diff) ν™•μΈ' κΈ°λ¥ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
57. β³ `CLIμ—μ„ n8n Webhookμ„ ν†µν• 'λ³€κ²½μ‚¬ν•­ μΉμΈ/λ°λ ¤' κΈ°λ¥ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
58. β³ `package.jsonμ— CLI μ‹¤ν–‰ μ¤ν¬λ¦½νΈ μ¶”κ°€` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 3-2: n8n μΈν„°λ™ν‹°λΈ μ›ν¬ν”λ΅μ° κµ¬μ„±** `[κ³„ν: λ―Έκµ¬μ¶•]`
59. β³ `n8n Form λ…Έλ“λ¥Ό ν™μ©ν• μ‚¬μ©μ μ…λ ¥ μμ§‘ μ›ν¬ν”λ΅μ° κµ¬μ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
60. β³ `n8nμ—μ„ μ½”λ“ λ³€κ²½μ‚¬ν•­(diff) ν‘μ‹ λ° μΉμΈ/λ°λ ¤ μ›ν¬ν”λ΅μ° κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
61. β³ `n8n Manual Trigger λλ” Wait λ…Έλ“λ¥Ό ν™μ©ν• μ‚¬μ©μ μΉμΈ λ€κΈ° λ΅μ§ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
62. β³ `Cloudflare Accessλ¥Ό ν†µν• μ™Έλ¶€ μ ‘κ·Ό λ³΄μ• μ„¤μ • (μ„ νƒμ‚¬ν•­)` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 4-1: n8n κΈ°λ° μλ™ μ‘μ—… λ¶„ν•΄ (Task Decomposition)** `[κ³„ν: λ―Έκµ¬μ¶•]`
63. β³ `n8nμ—μ„ AI μ—μ΄μ „νΈλ¥Ό ν™μ©ν• μ‘μ—… λ¶„ν•΄ μ›ν¬ν”λ΅μ° κµ¬μ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
64. β³ `'λ¶„ν•΄ μ—μ΄μ „νΈ(Decomposition Agent)' ν”„λ΅¬ν”„νΈ μ„¤κ³„ λ° n8nμ— μ μ©` `[κ³„ν: λ―Έκµ¬μ¶•]`
65. β³ `n8nμ—μ„ 'λ³µν•© μ‘μ—…(Complex Task)' Webhook μ—”λ“ν¬μΈνΈ μƒμ„±` `[κ³„ν: λ―Έκµ¬μ¶•]`
66. β³ `n8n Loop λ…Έλ“λ¥Ό ν™μ©ν•μ—¬ λ¶„ν•΄λ ν•μ„ μ‘μ—…μ„ μμ°¨μ μΌλ΅ μ‹¤ν–‰ν•λ” μ›ν¬ν”λ΅μ° κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
67. β³ `AI Agent Serverμ— '/decompose' μ—”λ“ν¬μΈνΈ μ¶”κ°€ (μ‘μ—… λ¶„ν•΄ λ΅μ§)` `[κ³„ν: λ―Έκµ¬μ¶•]`

#### **Phase 4-2: n8n μ›ν¬ν”λ΅μ° κΈ°λ° μ—μ΄μ „νΈ ν‘μ—… (Inter-Agent Collaboration)** `[κ³„ν: λ―Έκµ¬μ¶•]`
68. β³ `'μ½”λ“ μ‘μ„±', 'μ½”λ“ λ¦¬λ·°', 'ν…μ¤νΈ μ‘μ„±' λ“± μ—μ΄μ „νΈ μ—­ν• μ„ 'src/types/roles.d.ts'μ— μ •μ` `[κ³„ν: λ―Έκµ¬μ¶•]`
69. β³ `n8nμ—μ„ λ©€ν‹° μ—μ΄μ „νΈ ν‘μ—… μ›ν¬ν”λ΅μ° κµ¬μ„± (μμ°¨ λλ” λ³‘λ ¬ μ‹¤ν–‰)` `[κ³„ν: λ―Έκµ¬μ¶•]`
70. β³ `μμ‹ μ›ν¬ν”λ΅μ°: Webhook β†’ μ‘μ„± μ—μ΄μ „νΈ β†’ λ¦¬λ·° μ—μ΄μ „νΈ β†’ ν…μ¤νΈ μ—μ΄μ „νΈ β†’ κ²°κ³Ό λ°ν™` `[κ³„ν: λ―Έκµ¬μ¶•]`
71. β³ `n8n Error Triggerλ¥Ό ν™μ©ν• μλ™ ν”Όλ“λ°± λ£¨ν”„ κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`
72. β³ `ν…μ¤νΈ μ‹¤ν¨ μ‹ μ‘μ„± μ—μ΄μ „νΈλ΅ μλ™ μ¬μ‘μ—… μ”μ²­ μ›ν¬ν”λ΅μ° κµ¬ν„` `[κ³„ν: λ―Έκµ¬μ¶•]`

---

#### **Phase 5: ν”„λ΅λ•μ… λ°°ν¬ λ° μµμ ν™” (Production Deployment)** `[μΌλ¶€ μ™„λ£]`
73. β³ `Raspberry Pi 5μ— PM2 μ„¤μΉ λ° AI Agent Server ν”„λ΅μ„Έμ¤ κ΄€λ¦¬ μ„¤μ •` `[κ³„ν: λ―Έκµ¬μ¶•]`
74. β… `n8n Docker μ»¨ν…μ΄λ„ μλ™ μ¬μ‹μ‘ μ„¤μ • (restart: unless-stopped)` `[μ™„λ£: 2026-01-12]`
75. β… `cloudflared systemd μ„λΉ„μ¤ μλ™ μ‹μ‘ μ„¤μ • (systemctl enable)` `[μ™„λ£: 2026-01-12]`
76. β³ `Cloudflare Zero Trustλ¥Ό ν™μ©ν• μ ‘κ·Ό μ μ–΄ λ° μΈμ¦ μ„¤μ • (μ„ νƒμ‚¬ν•­)` `[κ³„ν: λ―Έκµ¬μ¶•]`
77. β³ `n8n μ›ν¬ν”λ΅μ° λ°±μ—… λ° λ²„μ „ κ΄€λ¦¬ μ„¤μ •` `[κ³„ν: λ―Έκµ¬μ¶•]`
78. β… `λ΅κ·Έ μμ§‘ μ„¤μ • (docker-compose logs, journalctl)` `[μ™„λ£: 2026-01-12]`
79. β… `μ‹μ¤ν… UDP λ²„νΌ μ„±λ¥ νλ‹ (sysctl.conf)` `[μ™„λ£: 2026-01-12]`
